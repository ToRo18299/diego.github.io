---
import { getCollection } from 'astro:content'
import BlogCard from './BlogCard.astro'
import { ArrowRight } from '@lucide/astro'
import SkillBadge from './SkillBadge.astro'

const blogEntries = await getCollection('blog')

// Sort by publish date, most recent first
const sortedPosts = blogEntries.sort(
  (a, b) => b.data.publishDate.getTime() - a.data.publishDate.getTime()
)

// Get only the latest 3 posts
const latestPosts = sortedPosts.slice(0, 3)
---

<section id='blog' class='py-20 px-4 bg-base-300'>
  <div class='max-w-6xl mx-auto'>
    <div class='text-center mb-12'>
      <h2 class='text-4xl font-bold mb-4 text-primary'>Tech Stack</h2>
      <div class='flex flex-wrap justify-center gap-4 mb-2'>
        <SkillBadge name='HTML' logoUrl='https://cdn.simpleicons.org/html5' />
        <SkillBadge
          name='CSS'
          logoUrl='https://w7.pngwing.com/pngs/393/49/png-transparent-css-logo.png'
        />
        <SkillBadge
          name='TypeScript'
          logoUrl='https://cdn.simpleicons.org/typescript'
        />
        <SkillBadge
          name='JavaScript'
          logoUrl='https://cdn.simpleicons.org/javascript'
        />
        <SkillBadge name='React' logoUrl='https://cdn.simpleicons.org/react' />
        <SkillBadge
          name='Node.js'
          logoUrl='https://cdn.simpleicons.org/nodedotjs'
        />
        <SkillBadge
          name='Tailwind CSS'
          logoUrl='https://cdn.simpleicons.org/tailwindcss'
        />
        <SkillBadge
          name='RESTful APIs'
          logoUrl='https://uxwing.com/wp-content/themes/uxwing/download/web-app-development/rest-api-icon.png'
        />
        <SkillBadge
          name='GitHub'
          logoUrl='https://cdn.simpleicons.org/github'
        />
      </div>
      <h2 class='text-4xl font-bold mt-8 mb-3 text-primary'>Exposure To</h2>
      <div class='flex flex-wrap justify-center gap-4 mb-2'>
        <SkillBadge
          name='Python'
          logoUrl='https://cdn.simpleicons.org/python'
        />
        <SkillBadge
          name='Docker'
          logoUrl='https://cdn.simpleicons.org/docker'
        />
        <SkillBadge
          name='ESP32'
          logoUrl='https://cdn.simpleicons.org/espressif'
        />
        <SkillBadge name='MySQL' logoUrl='https://cdn.simpleicons.org/mysql' />
      </div>
      <p class='text-base-content/70 text-lg'>
        Technologies I use to build modern web and embedded solutions.
      </p>
    </div>

    <div class='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6'>
      {/* No blog cards shown */}
    </div>

    {
      /* <div class='text-center mt-12'>
      <a href='/blog' class='btn btn-primary gap-2'>
        View All Posts
        <ArrowRight class='size-4' />
      </a>
    </div> */
    }
  </div>
</section>
